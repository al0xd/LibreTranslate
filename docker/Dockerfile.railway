# Sử dụng image chính thức của LibreTranslate
FROM libretranslate/libretranslate:latest

# Cài thêm các gói ngôn ngữ phổ biến bằng Argos Translate
# Các ngôn ngữ được cài: 
# - Tiếng Trung giản thể (zh), Nhật (ja), Hàn (ko), Pháp (fr), Đức (de), 
#   Tây Ban Nha (es), Bồ Đào Nha (pt), Ý (it), Nga (ru), Ả Rập (ar), Việt Nam (vi)
RUN ./venv/bin/libretranslate --update-models && \
    ./venv/bin/libretranslate --install-model en zh && \
    ./venv/bin/libretranslate --install-model zh en && \
    ./venv/bin/libretranslate --install-model en ja && \
    ./venv/bin/libretranslate --install-model ja en && \
    ./venv/bin/libretranslate --install-model en ko && \
    ./venv/bin/libretranslate --install-model ko en && \
    ./venv/bin/libretranslate --install-model en fr && \
    ./venv/bin/libretranslate --install-model fr en && \
    ./venv/bin/libretranslate --install-model en de && \
    ./venv/bin/libretranslate --install-model de en && \
    ./venv/bin/libretranslate --install-model en es && \
    ./venv/bin/libretranslate --install-model es en && \
    ./venv/bin/libretranslate --install-model en pt && \
    ./venv/bin/libretranslate --install-model pt en && \
    ./venv/bin/libretranslate --install-model en it && \
    ./venv/bin/libretranslate --install-model it en && \
    ./venv/bin/libretranslate --install-model en ru && \
    ./venv/bin/libretranslate --install-model ru en && \
    ./venv/bin/libretranslate --install-model en ar && \
    ./venv/bin/libretranslate --install-model ar en && \
    ./venv/bin/libretranslate --install-model en vi && \
    ./venv/bin/libretranslate --install-model vi en

# Expose port mặc định
EXPOSE 5000

# Lệnh chạy server
CMD ["./venv/bin/libretranslate", "--host", "0.0.0.0", "--port", "5000"]
